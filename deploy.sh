#!/bin/bash

# Exit on any error
set -e

echo "ðŸ“¦ Starting deployment process..."

# Increment version number
echo "ðŸ”„ Incrementing version number..."
node ./scripts/increment-version.js

# Build the application
echo "ðŸ”¨ Building the application..."
npm run build

# Deploy to Firebase Hosting
echo "ðŸš€ Deploying to Firebase Hosting..."
# Make sure we have firebase-tools installed
if ! command -v firebase &> /dev/null; then
  echo "Installing firebase-tools globally..."
  npm install -g firebase-tools
fi
firebase deploy --only hosting

echo "âœ… Deployment complete! Visit https://firework-factory.web.app to see your changes."
